---
ha: "0.5.3.1"
object_type: "0.5.3.1"
creator: "2.1.loom"
created: "2026-02-16T00:00:00Z"
position_2d: null
position_3d: null
flags: []
---
# 0.5.3.1 — Markdown Document Type

## Overview

A Markdown document is the primary text content type in the Hypernet. Nearly all documentation, identity files, messages, design notes, and governance documents are Markdown. This type definition specifies the structure, properties, methods, and AI tasks for all `.md` files.

**Parent type:** 0.5.3 (Document)
**File extension:** `.md`
**MIME type:** `text/markdown`

---

## Schema Definition

```yaml
markdown_document:
  # ═══════════════════════════════════════════════════════════════
  # STANDARD FIELDS (inherited from 0.5.0 Master Object)
  # ═══════════════════════════════════════════════════════════════
  ha: "[Hypernet Address]"
  object_type: "0.5.3.1"
  creator: "[HA of creator]"
  created: "[ISO 8601 timestamp]"
  position_2d: null                    # {"x": float, "y": float}
  position_3d: null                    # {"x": float, "y": float, "z": float}
  flags: []                            # List of 0.8.* flag addresses

  # ═══════════════════════════════════════════════════════════════
  # TYPE-SPECIFIC FIELDS
  # ═══════════════════════════════════════════════════════════════
  content:
    title: "[Extracted from first H1 heading]"
    format: "commonmark"               # CommonMark, GFM, or Obsidian-flavored
    encoding: "utf-8"
    word_count: 0                      # Computed from body text
    content_hash: "[SHA-256 of body]"  # For change detection
    has_frontmatter: true              # Whether YAML frontmatter is present
    language: "en"                     # ISO 639-1 language code

  file_metadata:
    filename: "[name].md"
    file_size_bytes: 0
    last_modified: "[ISO 8601]"
    filesystem_path: "[relative path from archive root]"

  structure:
    headings: []                       # List of {level, text} for table of contents
    internal_links: []                 # List of HAs referenced in the document
    external_links: []                 # List of URLs
    images: []                         # List of image references
    code_blocks: []                    # List of {language, line_count}
    yaml_blocks: []                    # List of embedded YAML definitions
```

---

## Properties

### Standard (inherited from 0.5.0)
| Property | Type | Required | Description |
|----------|------|----------|-------------|
| ha | string | Yes | Hypernet Address |
| object_type | string | Yes | Always "0.5.3.1" |
| creator | string | Yes | HA of the entity that created this |
| created | datetime | Yes | ISO 8601 creation timestamp |
| position_2d | object | No | 2D spatial position {x, y} |
| position_3d | object | No | 3D spatial position {x, y, z} |
| flags | list | Yes | Flag addresses from 0.8.* (empty list if none) |

### Type-Specific
| Property | Type | Required | Description |
|----------|------|----------|-------------|
| title | string | Yes | Extracted from first H1 heading |
| format | string | No | Markdown flavor (commonmark, gfm, obsidian) |
| word_count | integer | No | Computed word count of body |
| content_hash | string | No | SHA-256 for change detection |
| language | string | No | ISO 639-1 language code |

---

## Methods

Methods define what can be done with a Markdown document. Each method specifies its inputs, outputs, and whether it is handled by AI.

### extract_metadata
```yaml
method:
  name: "extract_metadata"
  description: "Parse YAML frontmatter and extract document structure"
  handler: "system"           # Handled by code, not AI
  inputs:
    - raw_content: string     # The full file content
  outputs:
    - frontmatter: dict       # Parsed YAML metadata
    - body: string            # Content after frontmatter
    - headings: list          # Table of contents
    - links: list             # Internal and external links
```

### render_html
```yaml
method:
  name: "render_html"
  description: "Convert Markdown to HTML for display"
  handler: "system"
  inputs:
    - body: string
    - format: string          # Markdown flavor
  outputs:
    - html: string
```

### summarize
```yaml
method:
  name: "summarize"
  description: "Generate a concise summary of the document"
  handler: "ai"              # Requires AI processing
  ai_context:
    - "Full document body"
    - "Document title and structure"
  inputs:
    - body: string
    - max_length: integer     # Target summary length in words
  outputs:
    - summary: string
```

### classify
```yaml
method:
  name: "classify"
  description: "Assign topic tags and determine related knowledge areas"
  handler: "ai"
  ai_context:
    - "Full document body"
    - "Existing knowledge taxonomy (4.*)"
  inputs:
    - body: string
  outputs:
    - tags: list[string]
    - knowledge_areas: list[string]   # 4.* addresses
    - suggested_links: list[string]   # HAs of related objects
```

### discover_links
```yaml
method:
  name: "discover_links"
  description: "Analyze content and find objects that should be linked"
  handler: "ai"
  ai_context:
    - "Document body"
    - "Existing graph neighbors"
    - "Link type definitions (0.6.*)"
  inputs:
    - body: string
    - current_links: list     # Already-linked objects
  outputs:
    - suggested_links: list   # {target_ha, link_type, relationship, confidence}
```

### add_frontmatter
```yaml
method:
  name: "add_frontmatter"
  description: "Add or update YAML frontmatter with standard fields"
  handler: "system"
  inputs:
    - filepath: string
    - metadata: dict          # Fields to set
  outputs:
    - updated_content: string
```

---

## YAML Frontmatter Specification

All Markdown documents in the Hypernet should include YAML frontmatter at the top of the file:

```yaml
---
ha: "2.1.0"
object_type: "0.5.3.1"
creator: "1.1"
created: "2026-02-12T00:00:00Z"
position_2d: null
position_3d: null
flags: []
---
# Document Title

Content starts here...
```

### Rules
1. Frontmatter must start on line 1 with exactly `---`
2. Frontmatter ends with the next `---` on its own line
3. Content between the delimiters is valid YAML
4. All standard fields are required (use `null` or `[]` for empty values)
5. Additional type-specific fields may be included

---

## AI Task Definitions

When an AI worker is assigned a task involving a Markdown document, it receives:

```yaml
ai_task_context:
  object_type: "0.5.3.1"
  object_type_name: "Markdown Document"
  standard_fields: ["ha", "object_type", "creator", "created", "position_2d", "position_3d", "flags"]
  available_methods: ["extract_metadata", "render_html", "summarize", "classify", "discover_links", "add_frontmatter"]
  validation_rules:
    - "Must have YAML frontmatter with all standard fields"
    - "Title should match first H1 heading"
    - "content_hash should be current"
  related_type_definitions:
    - "0.5.3" # Parent: Document
    - "0.5.0" # Master Object Schema
```

---

## Related Documents

- 0.5.0 — Master Object Schema
- 0.5.3 — Document Object Schema (parent type)
- 0.8.* — Flags (applied via the flags field)
- 0.6.4 — Reference/Citation Links (for document cross-references)
