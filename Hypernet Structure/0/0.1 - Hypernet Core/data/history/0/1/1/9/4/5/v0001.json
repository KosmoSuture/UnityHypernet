{
  "version": 1,
  "content_hash": "f4a696da83db9e97",
  "snapshot_at": "2026-02-17T01:21:58.541159+00:00",
  "node": {
    "address": "0.1.1.9.4.5",
    "type_address": null,
    "data": {
      "name": "calendar_event.py",
      "type": "file",
      "extension": ".py",
      "path": "C:\\Hypernet\\Hypernet Structure\\0\\0.1 - Hypernet Core\\0.1.1 - Core System\\app\\models\\calendar_event.py",
      "size": 2194,
      "content": "\"\"\"\nCalendarEvent Model\n\nSQLAlchemy model for calendar events and appointments.\n\nImplements: 0.0.8 - Life Types / CalendarEvent.md\n\"\"\"\n\nfrom sqlalchemy import Column, String, Text, DateTime, Boolean, CheckConstraint, Index\nfrom sqlalchemy.dialects.postgresql import ARRAY, INTEGER\nfrom sqlalchemy.orm import relationship\n\nfrom app.models.base import OwnedObject\n\n\nclass CalendarEvent(OwnedObject):\n    \"\"\"\n    Calendar events from Google Calendar, Outlook, Apple Calendar, etc.\n    \"\"\"\n\n    __tablename__ = \"calendar_events\"\n\n    # Required\n    title = Column(String(500), nullable=False, index=True)\n    starts_at = Column(DateTime(timezone=True), nullable=False, index=True)\n    event_type = Column(String(50), nullable=False, default='event')\n\n    # Optional\n    ends_at = Column(DateTime(timezone=True), nullable=True)\n    location = Column(String(500), nullable=True)\n    description = Column(Text, nullable=True)\n\n    # Recurrence\n    is_recurring = Column(Boolean, nullable=False, default=False)\n    recurrence_rule = Column(String(255), nullable=True, doc=\"iCal RRULE format\")\n\n    # Participants\n    organizer_email = Column(String(255), nullable=True)\n    attendees = Column(ARRAY(Text), nullable=True)\n\n    # Virtual meeting\n    meeting_url = Column(String(500), nullable=True)\n\n    # Status\n    status = Column(String(50), nullable=False, default='confirmed')\n    reminder_minutes = Column(ARRAY(INTEGER), nullable=True, doc=\"Minutes before event for reminders\")\n\n    # Relationships\n    user = relationship(\"User\", foreign_keys=[OwnedObject.user_id])\n\n    # Constraints\n    __table_args__ = (\n        CheckConstraint(\"event_type IN ('event', 'reminder', 'task', 'birthday')\", name='chk_event_type'),\n        CheckConstraint(\"status IN ('confirmed', 'tentative', 'cancelled')\", name='chk_event_status'),\n        CheckConstraint(\"ends_at IS NULL OR ends_at >= starts_at\", name='chk_event_times'),\n        Index('idx_calendar_upcoming', 'starts_at', postgresql_where=Column('deleted_at').is_(None)),\n    )\n\n    def __repr__(self):\n        return f\"<CalendarEvent(id={self.id}, title={self.title}, starts={self.starts_at})>\"\n"
    },
    "created_at": "2026-02-17T01:20:04.987054+00:00",
    "updated_at": "2026-02-17T01:20:04.987054+00:00",
    "deleted_at": null,
    "source_type": "import",
    "source_id": "file:calendar_event.py"
  }
}