{
  "address": "0.1.11.1.0.1.1.4.1",
  "type_address": null,
  "data": {
    "name": "v0001.json",
    "type": "file",
    "extension": ".json",
    "path": "C:\\Hypernet\\Hypernet Structure\\0\\0.1 - Hypernet Core\\data\\history\\0\\1\\1\\4\\v0001.json",
    "size": 18063,
    "content": "{\n  \"version\": 1,\n  \"content_hash\": \"adaf20278479ef27\",\n  \"snapshot_at\": \"2026-02-17T01:21:58.332081+00:00\",\n  \"node\": {\n    \"address\": \"0.1.1.4\",\n    \"type_address\": null,\n    \"data\": {\n      \"name\": \"MVP-DATABASE-SCHEMA.sql\",\n      \"type\": \"file\",\n      \"extension\": \".sql\",\n      \"path\": \"C:\\\\Hypernet\\\\Hypernet Structure\\\\0\\\\0.1 - Hypernet Core\\\\0.1.1 - Core System\\\\MVP-DATABASE-SCHEMA.sql\",\n      \"size\": 17383,\n      \"content\": \"-- ============================================================================\\n-- HYPERNET MVP DATABASE SCHEMA\\n-- Purpose: Minimal viable schema for VR demo\\n-- Database: SQLite 3\\n-- Target: 6-week demo for funding\\n-- ============================================================================\\n\\n-- ============================================================================\\n-- CORE TABLES\\n-- ============================================================================\\n\\n-- Objects Table: Universal storage for all Hypernet objects\\nCREATE TABLE objects (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n\\n    -- Hypernet Address (unique identifier)\\n    hypernet_address TEXT UNIQUE NOT NULL,\\n\\n    -- Object type (photo, email, person, event, etc.)\\n    object_type TEXT NOT NULL,\\n\\n    -- Status (active, archived, deleted)\\n    status TEXT DEFAULT 'active',\\n\\n    -- Owner (which person this belongs to: 1.1, 1.2, etc.)\\n    owner_address TEXT NOT NULL,\\n\\n    -- Title/Name (human-readable)\\n    title TEXT,\\n\\n    -- Description/Content preview\\n    description TEXT,\\n\\n    -- Privacy level (private, family, friends, professional, public, ai_access, legacy)\\n    privacy_level TEXT DEFAULT 'private',\\n\\n    -- Timestamps\\n    created_at TEXT NOT NULL,  -- ISO 8601 format\\n    updated_at TEXT NOT NULL,\\n\\n    -- Original creation date (for photos, emails, etc.)\\n    original_date TEXT,\\n\\n    -- File path (if object has associated file)\\n    file_path TEXT,\\n\\n    -- File size in bytes\\n    file_size INTEGER,\\n\\n    -- MIME type\\n    mime_type TEXT,\\n\\n    -- Metadata (JSON for flexible additional data)\\n    metadata TEXT,  -- JSON object\\n\\n    -- Full-text search support\\n    search_text TEXT,\\n\\n    -- Indexes for performance\\n    CHECK (privacy_level IN ('private', 'family', 'friends', 'professional', 'public', 'ai_access', 'legacy'))\\n);\\n\\n-- Indexes for fast queries\\nCREATE INDEX idx_objects_ha ON objects(hypernet_address);\\nCREATE INDEX idx_objects_type ON objects(object_type);\\nCREATE INDEX idx_objects_owner ON objects(owner_address);\\nCREATE INDEX idx_objects_date ON objects(original_date);\\nCREATE INDEX idx_objects_status ON objects(status);\\nCREATE INDEX idx_objects_privacy ON objects(privacy_level);\\n\\n-- Full-text search index\\nCREATE VIRTUAL TABLE objects_fts USING fts5(\\n    hypernet_address,\\n    title,\\n    description,\\n    search_text,\\n    content=objects,\\n    content_rowid=id\\n);\\n\\n-- Triggers to keep FTS index updated\\nCREATE TRIGGER objects_fts_insert AFTER INSERT ON objects BEGIN\\n    INSERT INTO objects_fts(rowid, hypernet_address, title, description, search_text)\\n    VALUES (new.id, new.hypernet_address, new.title, new.description, new.search_text);\\nEND;\\n\\nCREATE TRIGGER objects_fts_update AFTER UPDATE ON objects BEGIN\\n    UPDATE objects_fts SET\\n        hypernet_address = new.hypernet_address,\\n        title = new.title,\\n        description = new.description,\\n        search_text = new.search_text\\n    WHERE rowid = new.id;\\nEND;\\n\\nCREATE TRIGGER objects_fts_delete AFTER DELETE ON objects BEGIN\\n    DELETE FROM objects_fts WHERE rowid = old.id;\\nEND;\\n\\n\\n-- ============================================================================\\n-- Links Table: First-class relationships between objects\\nCREATE TABLE links (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n\\n    -- Links also get Hypernet Addresses\\n    hypernet_address TEXT UNIQUE NOT NULL,\\n\\n    -- Source and target objects\\n    source_address TEXT NOT NULL,\\n    target_address TEXT NOT NULL,\\n\\n    -- Link type (depicts, mentions, related_to, parent_of, located_at, etc.)\\n    link_type TEXT NOT NULL,\\n\\n    -- Link strength (0.0 to 1.0, for ranking/sorting)\\n    strength REAL DEFAULT 1.0,\\n\\n    -- Bidirectional flag\\n    bidirectional INTEGER DEFAULT 0,  -- 0=one-way, 1=two-way\\n\\n    -- Context/description of the relationship\\n    context TEXT,\\n\\n    -- Who created this link (user or system)\\n    created_by TEXT DEFAULT 'system',\\n\\n    -- Timestamps\\n    created_at TEXT NOT NULL,\\n    updated_at TEXT NOT NULL,\\n\\n    -- Status\\n    status TEXT DEFAULT 'active',\\n\\n    -- Metadata (JSON)\\n    metadata TEXT,\\n\\n    -- Foreign key constraints\\n    FOREIGN KEY (source_address) REFERENCES objects(hypernet_address),\\n    FOREIGN KEY (target_address) REFERENCES objects(hypernet_address),\\n\\n    CHECK (strength >= 0.0 AND strength <= 1.0),\\n    CHECK (status IN ('active', 'archived', 'deleted'))\\n);\\n\\nCREATE INDEX idx_links_source ON links(source_address);\\nCREATE INDEX idx_links_target ON links(target_address);\\nCREATE INDEX idx_links_type ON links(link_type);\\nCREATE INDEX idx_links_status ON links(status);\\n\\n\\n-- ============================================================================\\n-- SPECIFIC OBJECT TYPE TABLES (for MVP demo)\\n-- ============================================================================\\n\\n-- Photos: Most important for demo\\nCREATE TABLE photos (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n\\n    -- Reference to objects table\\n    object_id INTEGER UNIQUE NOT NULL,\\n    hypernet_address TEXT UNIQUE NOT NULL,\\n\\n    -- Photo-specific metadata\\n    width INTEGER,\\n    height INTEGER,\\n    orientation INTEGER,  -- EXIF orientation\\n\\n    -- Camera/device info\\n    camera_make TEXT,\\n    camera_model TEXT,\\n    lens_model TEXT,\\n\\n    -- Photo settings\\n    iso INTEGER,\\n    aperture REAL,\\n    shutter_speed TEXT,\\n    focal_length REAL,\\n    flash INTEGER,  -- 0=no flash, 1=flash\\n\\n    -- Location (if available from EXIF)\\n    latitude REAL,\\n    longitude REAL,\\n    altitude REAL,\\n    location_name TEXT,  -- Reverse geocoded\\n\\n    -- Timestamps\\n    taken_at TEXT,  -- When photo was taken (EXIF)\\n\\n    -- Thumbnails (paths to generated thumbnails)\\n    thumbnail_small TEXT,  -- 256x256\\n    thumbnail_medium TEXT, -- 512x512\\n    thumbnail_large TEXT,  -- 1024x1024\\n\\n    -- AI-generated metadata\\n    ai_caption TEXT,\\n    ai_tags TEXT,  -- JSON array\\n    ai_detected_faces TEXT,  -- JSON array of face bounding boxes\\n\\n    -- Computed hash (for duplicate detection)\\n    perceptual_hash TEXT,\\n\\n    FOREIGN KEY (object_id) REFERENCES objects(id)\\n);\\n\\nCREATE INDEX idx_photos_date ON photos(taken_at);\\nCREATE INDEX idx_photos_location ON photos(latitude, longitude);\\nCREATE INDEX idx_photos_hash ON photos(perceptual_hash);\\n\\n\\n-- People: Family members, contacts\\nCREATE TABLE people (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n\\n    -- Reference to objects table\\n    object_id INTEGER UNIQUE NOT NULL,\\n    hypernet_address TEXT UNIQUE NOT NULL,\\n\\n    -- Basic identity\\n    first_name TEXT,\\n    middle_name TEXT,\\n    last_name TEXT,\\n    preferred_name TEXT,\\n    suffix TEXT,  -- Jr., Sr., III, etc.\\n\\n    -- Dates\\n    birth_date TEXT,\\n    death_date TEXT,  -- NULL if alive\\n\\n    -- Contact info\\n    email TEXT,\\n    phone TEXT,\\n\\n    -- Relationships\\n    relationship_to_owner TEXT,  -- son, daughter, wife, friend, etc.\\n\\n    -- Profile\\n    profile_photo_address TEXT,  -- Links to a photo object\\n    bio TEXT,\\n\\n    -- Status\\n    is_living INTEGER DEFAULT 1,  -- 1=alive, 0=deceased\\n\\n    -- For family members with Hypernet addresses\\n    is_hypernet_user INTEGER DEFAULT 0,\\n\\n    FOREIGN KEY (object_id) REFERENCES objects(id)\\n);\\n\\nCREATE INDEX idx_people_name ON people(last_name, first_name);\\nCREATE INDEX idx_people_living ON people(is_living);\\n\\n\\n-- Events: Birthdays, holidays, trips, etc.\\nCREATE TABLE events (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n\\n    -- Reference to objects table\\n    object_id INTEGER UNIQUE NOT NULL,\\n    hypernet_address TEXT UNIQUE NOT NULL,\\n\\n    -- Event details\\n    event_type TEXT,  -- birthday, holiday, trip, meeting, etc.\\n\\n    -- When\\n    start_date TEXT NOT NULL,\\n    end_date TEXT,\\n    all_day INTEGER DEFAULT 0,\\n\\n    -- Where\\n    location_name TEXT,\\n    latitude REAL,\\n    longitude REAL,\\n\\n    -- Recurrence (for recurring events)\\n    recurrence_rule TEXT,  -- iCal RRULE format\\n\\n    -- Attendees (JSON array of person addresses)\\n    attendees TEXT,\\n\\n    FOREIGN KEY (object_id) REFERENCES objects(id)\\n);\\n\\nCREATE INDEX idx_events_date ON events(start_date);\\nCREATE INDEX idx_events_type ON events(event_type);\\n\\n\\n-- Emails: For demo, just recent emails\\nCREATE TABLE emails (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n\\n    -- Reference to objects table\\n    object_id INTEGER UNIQUE NOT NULL,\\n    hypernet_address TEXT UNIQUE NOT NULL,\\n\\n    -- Email headers\\n    message_id TEXT UNIQUE,  -- RFC 2822 Message-ID\\n    subject TEXT,\\n    from_address TEXT,\\n    from_name TEXT,\\n    to_addresses TEXT,  -- JSON array\\n    cc_addresses TEXT,  -- JSON array\\n    bcc_addresses TEXT, -- JSON array\\n\\n    -- Content\\n    body_plain TEXT,\\n    body_html TEXT,\\n\\n    -- Metadata\\n    sent_at TEXT NOT NULL,\\n    received_at TEXT,\\n\\n    -- Threading\\n    in_reply_to TEXT,  -- Message-ID of parent\\n    thread_id TEXT,\\n\\n    -- Flags\\n    is_read INTEGER DEFAULT 0,\\n    is_starred INTEGER DEFAULT 0,\\n    is_archived INTEGER DEFAULT 0,\\n\\n    -- Attachments (JSON array of file paths)\\n    attachments TEXT,\\n\\n    FOREIGN KEY (object_id) REFERENCES objects(id)\\n);\\n\\nCREATE INDEX idx_emails_date ON emails(sent_at);\\nCREATE INDEX idx_emails_from ON emails(from_address);\\nCREATE INDEX idx_emails_thread ON emails(thread_id);\\n\\n\\n-- Locations: Places referenced by other objects\\nCREATE TABLE locations (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n\\n    -- Reference to objects table\\n    object_id INTEGER UNIQUE NOT NULL,\\n    hypernet_address TEXT UNIQUE NOT NULL,\\n\\n    -- Location details\\n    name TEXT,\\n    address TEXT,\\n    city TEXT,\\n    state TEXT,\\n    country TEXT,\\n    postal_code TEXT,\\n\\n    -- Coordinates\\n    latitude REAL NOT NULL,\\n    longitude REAL NOT NULL,\\n\\n    -- Type (home, work, restaurant, landmark, etc.)\\n    location_type TEXT,\\n\\n    -- Visit tracking\\n    first_visit_date TEXT,\\n    last_visit_date TEXT,\\n    visit_count INTEGER DEFAULT 0,\\n\\n    FOREIGN KEY (object_id) REFERENCES objects(id)\\n);\\n\\nCREATE INDEX idx_locations_coords ON locations(latitude, longitude);\\nCREATE INDEX idx_locations_type ON locations(location_type);\\n\\n\\n-- ============================================================================\\n-- HYPERNET ADDRESS REGISTRY\\n-- ============================================================================\\n\\n-- HA Registry: Track address allocation\\nCREATE TABLE ha_registry (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n\\n    -- The full address\\n    hypernet_address TEXT UNIQUE NOT NULL,\\n\\n    -- Address components\\n    category INTEGER NOT NULL,        -- 1 = People\\n    subcategory INTEGER,              -- 1 = Matt, 2 = Sarah, etc.\\n    type INTEGER,                     -- 8 = Media, 6 = Personal Data, etc.\\n    subtype INTEGER,                  -- 0 = Photos, 1 = Videos, etc.\\n    instance INTEGER,                 -- 00001-99999\\n\\n    -- What object this address points to\\n    object_type TEXT NOT NULL,\\n    object_id INTEGER,\\n\\n    -- Status\\n    status TEXT DEFAULT 'active',  -- active, reserved, deleted\\n\\n    -- When allocated\\n    allocated_at TEXT NOT NULL,\\n\\n    -- Notes\\n    notes TEXT,\\n\\n    FOREIGN KEY (object_id) REFERENCES objects(id),\\n    CHECK (status IN ('active', 'reserved', 'deleted'))\\n);\\n\\nCREATE INDEX idx_ha_registry_address ON ha_registry(hypernet_address);\\nCREATE INDEX idx_ha_registry_category ON ha_registry(category, subcategory, type);\\n\\n\\n-- ============================================================================\\n-- VIEWS FOR COMMON QUERIES\\n-- ============================================================================\\n\\n-- Complete photo view with all metadata\\nCREATE VIEW v_photos_complete AS\\nSELECT\\n    o.hypernet_address,\\n    o.title,\\n    o.description,\\n    o.owner_address,\\n    o.privacy_level,\\n    o.file_path,\\n    o.created_at,\\n    o.original_date,\\n    p.width,\\n    p.height,\\n    p.taken_at,\\n    p.latitude,\\n    p.longitude,\\n    p.location_name,\\n    p.camera_make,\\n    p.camera_model,\\n    p.ai_caption,\\n    p.ai_tags,\\n    p.thumbnail_large\\nFROM objects o\\nJOIN photos p ON o.id = p.object_id\\nWHERE o.status = 'active'\\n  AND o.object_type = 'photo';\\n\\n\\n-- All links from a given object\\nCREATE VIEW v_object_links AS\\nSELECT\\n    l.hypernet_address as link_address,\\n    l.source_address,\\n    l.target_address,\\n    l.link_type,\\n    l.strength,\\n    l.context,\\n    os.title as source_title,\\n    os.object_type as source_type,\\n    ot.title as target_title,\\n    ot.object_type as target_type\\nFROM links l\\nJOIN objects os ON l.source_address = os.hypernet_address\\nJOIN objects ot ON l.target_address = ot.hypernet_address\\nWHERE l.status = 'active';\\n\\n\\n-- People with their profile photos\\nCREATE VIEW v_people_with_photos AS\\nSELECT\\n    o.hypernet_address,\\n    p.first_name,\\n    p.last_name,\\n    p.preferred_name,\\n    p.relationship_to_owner,\\n    p.birth_date,\\n    p.is_living,\\n    p.profile_photo_address,\\n    po.file_path as profile_photo_path\\nFROM objects o\\nJOIN people p ON o.id = p.object_id\\nLEFT JOIN objects po ON p.profile_photo_address = po.hypernet_address\\nWHERE o.status = 'active';\\n\\n\\n-- ============================================================================\\n-- INITIAL DATA / SEED DATA\\n-- ============================================================================\\n\\n-- Create the owner (Matt)\\nINSERT INTO objects (\\n    hypernet_address, object_type, owner_address, title,\\n    created_at, updated_at, privacy_level, status\\n) VALUES (\\n    '1.1', 'person', '1.1', 'Matt Schaeffer',\\n    datetime('now'), datetime('now'), 'private', 'active'\\n);\\n\\nINSERT INTO people (\\n    object_id, hypernet_address, first_name, last_name,\\n    relationship_to_owner, is_living, is_hypernet_user\\n) VALUES (\\n    1, '1.1', 'Matt', 'Schaeffer',\\n    'self', 1, 1\\n);\\n\\n\\n-- Create family members (minimal for demo)\\nINSERT INTO objects (hypernet_address, object_type, owner_address, title, created_at, updated_at, privacy_level, status)\\nVALUES\\n    ('1.2', 'person', '1.1', 'Sarah Schaeffer', datetime('now'), datetime('now'), 'family', 'active'),\\n    ('1.3', 'person', '1.1', 'John Schaeffer', datetime('now'), datetime('now'), 'family', 'active'),\\n    ('1.4', 'person', '1.1', 'Bridget Schaeffer', datetime('now'), datetime('now'), 'family', 'active'),\\n    ('1.5', 'person', '1.1', 'Mark Schaeffer', datetime('now'), datetime('now'), 'family', 'active'),\\n    ('1.6', 'person', '1.1', 'Richard Schaeffer', datetime('now'), datetime('now'), 'family', 'active'),\\n    ('1.7', 'person', '1.1', 'Ollie Schaeffer', datetime('now'), datetime('now'), 'family', 'active');\\n\\nINSERT INTO people (object_id, hypernet_address, first_name, last_name, relationship_to_owner, is_living, is_hypernet_user)\\nVALUES\\n    (2, '1.2', 'Sarah', 'Schaeffer', 'wife', 1, 1),\\n    (3, '1.3', 'John', 'Schaeffer', 'son', 1, 1),\\n    (4, '1.4', 'Bridget', 'Schaeffer', 'daughter', 1, 1),\\n    (5, '1.5', 'Mark', 'Schaeffer', 'son', 1, 1),\\n    (6, '1.6', 'Richard', 'Schaeffer', 'son', 1, 1),\\n    (7, '1.7', 'Ollie', 'Schaeffer', 'daughter', 1, 1);\\n\\n\\n-- ============================================================================\\n-- UTILITY FUNCTIONS / COMMON QUERIES (as comments for API implementation)\\n-- ============================================================================\\n\\n-- Query: Get all photos for a person\\n-- SELECT * FROM v_photos_complete WHERE owner_address = '1.1' ORDER BY taken_at DESC;\\n\\n-- Query: Get all links from a photo\\n-- SELECT * FROM v_object_links WHERE source_address = '1.1.8.0.00001';\\n\\n-- Query: Full-text search\\n-- SELECT hypernet_address, title, description\\n-- FROM objects_fts\\n-- WHERE objects_fts MATCH 'christmas'\\n-- ORDER BY rank;\\n\\n-- Query: Get photos within date range\\n-- SELECT * FROM v_photos_complete\\n-- WHERE taken_at BETWEEN '2023-12-01' AND '2023-12-31'\\n-- ORDER BY taken_at;\\n\\n-- Query: Get photos near a location (within ~1km)\\n-- SELECT *,\\n--   (ABS(latitude - 47.6062) + ABS(longitude - (-122.3321))) as distance\\n-- FROM v_photos_complete\\n-- WHERE latitude IS NOT NULL\\n-- ORDER BY distance\\n-- LIMIT 50;\\n\\n-- Query: Get all people linked to a photo\\n-- SELECT p.* FROM v_people_with_photos p\\n-- JOIN v_object_links l ON p.hypernet_address = l.target_address\\n-- WHERE l.source_address = '1.1.8.0.00001' AND l.link_type = 'depicts';\\n\\n-- ============================================================================\\n-- PERFORMANCE NOTES\\n-- ============================================================================\\n\\n-- For production, consider:\\n-- 1. PRAGMA journal_mode=WAL; (for better concurrency)\\n-- 2. PRAGMA synchronous=NORMAL; (faster writes)\\n-- 3. PRAGMA cache_size=-64000; (64MB cache)\\n-- 4. PRAGMA temp_store=MEMORY; (temp tables in RAM)\\n-- 5. Regular VACUUM; (defragment database)\\n-- 6. Regular ANALYZE; (update query planner statistics)\\n\\n-- For VR demo, ensure queries return in < 100ms:\\n-- - Use indexes effectively\\n-- - Limit result sets (pagination)\\n-- - Precompute expensive queries\\n-- - Cache frequent queries\\n-- - Generate thumbnails in advance\\n\\n-- ============================================================================\\n-- END OF SCHEMA\\n-- ============================================================================\\n\"\n    },\n    \"created_at\": \"2026-02-17T01:20:04.918539+00:00\",\n    \"updated_at\": \"2026-02-17T01:20:04.918539+00:00\",\n    \"deleted_at\": null,\n    \"source_type\": \"import\",\n    \"source_id\": \"file:MVP-DATABASE-SCHEMA.sql\"\n  }\n}"
  },
  "created_at": "2026-02-17T01:22:01.872421+00:00",
  "updated_at": "2026-02-17T01:22:01.872421+00:00",
  "deleted_at": null,
  "source_type": "import",
  "source_id": "file:v0001.json"
}