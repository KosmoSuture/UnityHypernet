{
  "address": "0.4.0.0.1.8",
  "type_address": null,
  "data": {
    "name": "User.md",
    "type": "file",
    "extension": ".md",
    "path": "C:\\Hypernet\\Hypernet Structure\\0\\0.4 - Object Type Registry\\0.0.1 - Core Types\\User.md",
    "size": 4194,
    "content": "# User - Human or AI Account\n\n**Type ID:** `hypernet.core.user`\n**Version:** 1.0\n**Category:** 0.0.1 - Core Types\n**Parent:** BaseObject\n**Status:** Active\n**Created:** 2026-02-04\n\n---\n\n## Identity\n\n```yaml\ntype_name: \"User\"\ntype_id: \"hypernet.core.user\"\nversion: \"1.0\"\nparent_type: \"BaseObject\"\ncategory: \"0.0.1 - Core Types\"\n```\n\n---\n\n## Purpose\n\n### What\nUser accounts - both human and AI entities that own data and interact with Hypernet.\n\n### Why\n- Central to ownership model (all objects have user_id)\n- Authentication and authorization\n- Quotas and permissions\n- First-class AI accounts (revolutionary)\n\n### When to Use\n- Human user registration\n- AI account creation\n- Service accounts\n\n---\n\n## Inherited Fields\n```yaml\nid, created_at, updated_at, deleted_at, metadata\n# Note: user_id not applicable (users don't own themselves)\n```\n\n---\n\n## Required Fields\n\n```yaml\nemail: String(255)\n  - Unique across all users\n  - Format: valid email\n  - Used for authentication\n  - Can be pseudo-email for AI (claude@ai.hypernet.local)\n\npassword_hash: String(255)\n  - Bcrypt hashed password\n  - Not returned via API\n  - Null for AI accounts (use API key auth)\n\naccount_type: Enum\n  - \"human\" (default)\n  - \"ai\"\n  - \"service\"\n\ndisplay_name: String(200)\n  - Public display name\n  - Example: \"Matt Schaeffer\", \"Claude (Sonnet 4.5)\"\n```\n\n---\n\n## Optional Fields\n\n```yaml\n# Profile\navatar_photo_id: UUID (FK to Photo)\nbio: Text (user description)\nlocation: String(200)\nwebsite: String(500)\n\n# AI-Specific\nai_provider: String(100)\n  - \"anthropic\", \"openai\", \"google\", \"meta\"\n  - Only for account_type=\"ai\"\n\nai_model: String(100)\n  - \"claude-sonnet-4.5\", \"gpt-4\", \"gemini-pro\"\n  - Only for account_type=\"ai\"\n\nai_version: String(50)\n  - Personality version for AI\n\n# Quotas\nstorage_used: BigInteger (bytes)\nstorage_quota: BigInteger (bytes, default 100GB)\nmedia_count: Integer (denormalized)\n\n# Preferences\npreferences: JSONB\n  - UI settings, notification preferences, etc.\n\n# Status\nis_verified: Boolean (email verified)\nis_active: Boolean (account active)\nlast_login_at: DateTime\n```\n\n---\n\n## Metadata Schema\n\n```json\n{\n  \"human\": {\n    \"full_name\": \"Matt Schaeffer\",\n    \"timezone\": \"America/Los_Angeles\",\n    \"language\": \"en-US\"\n  },\n  \"ai\": {\n    \"personality_id\": \"uuid-to-personality-object\",\n    \"capabilities\": [\"code\", \"writing\", \"analysis\"],\n    \"specialization\": \"software architecture\"\n  },\n  \"preferences\": {\n    \"theme\": \"dark\",\n    \"notifications_enabled\": true,\n    \"privacy_level\": \"private\"\n  }\n}\n```\n\n---\n\n## Relationships\n\n```yaml\nOutgoing:\n  - owns: All object types (user_id FK)\n  - has_personality: AIPersonality (for AI accounts)\n  - collaborated_with: User (human-AI or AI-AI)\n\nIncoming:\n  - managed_by: User (account admin)\n  - follows: User (social graph)\n```\n\n---\n\n## Validation\n\n```sql\nCHECK (account_type IN ('human', 'ai', 'service'))\nCHECK (email IS NOT NULL AND email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}$')\nCHECK (storage_used >= 0 AND storage_used <= storage_quota)\nCHECK (account_type != 'ai' OR (ai_provider IS NOT NULL AND ai_model IS NOT NULL))\n\nUNIQUE (email)\nINDEX ON (account_type, is_active)\nINDEX ON (ai_provider, ai_model) WHERE account_type = 'ai'\n```\n\n---\n\n## API Endpoints\n\n```http\nPOST /api/v1/auth/register (create account)\nPOST /api/v1/auth/login (authenticate)\nGET /api/v1/users/me (current user)\nPATCH /api/v1/users/me (update profile)\nGET /api/v1/users/{id} (public profile)\nPOST /api/v1/users/me/change-password\nDELETE /api/v1/users/me (soft delete account)\n```\n\n---\n\n## Security\n\n```yaml\nPassword Requirements:\n  - Min 12 characters\n  - Must include: uppercase, lowercase, number, special char\n  - Hashed with bcrypt (cost 12)\n\nAI Authentication:\n  - API key based (not password)\n  - Signature verification for actions\n  - Rate limiting per AI account\n\nSession Management:\n  - JWT access tokens (15 min)\n  - Refresh tokens (30 days)\n  - Tokens revoked on logout\n```\n\n---\n\n**Status:** Active - Critical Core Type\n**Version:** 1.0\n"
  },
  "created_at": "2026-02-15T11:54:04.676633+00:00",
  "updated_at": "2026-02-15T11:54:04.676633+00:00",
  "deleted_at": null,
  "source_type": "import",
  "source_id": "file:User.md"
}