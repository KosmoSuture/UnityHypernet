{
  "address": "0.4.0.0.3.1",
  "type_address": null,
  "data": {
    "name": "0.0.3.1-SOCIAL-POST.md",
    "type": "file",
    "extension": ".md",
    "path": "C:\\Hypernet\\Hypernet Structure\\0\\0.4 - Object Type Registry\\0.0.3 - Social Types\\0.0.3.1-SOCIAL-POST.md",
    "size": 34054,
    "content": "# SOCIAL-POST - Social Media Post Object Type\n\n**Type ID:** `hypernet.social.post`\n**Version:** 1.0\n**Category:** 0.0.3 - Social Types\n**Parent:** BaseObject\n**Status:** Active - Core Social Type\n**Created:** 2026-02-09\n**Last Updated:** 2026-02-09\n\n---\n\n## Object Type Metadata\n\n```yaml\ntype_name: \"SocialPost\"\ntype_id: \"hypernet.social.post\"\nversion: \"1.0\"\nparent_type: \"BaseObject\"\ncategory: \"0.0.3 - Social Types\"\nabstract: false\ninstantiable: true\n```\n\n---\n\n## Purpose and Description\n\n### What is a SocialPost?\n\nThe SocialPost object type represents any content published to a social media platform. This includes Instagram posts, Facebook updates, Twitter/X tweets, LinkedIn articles, TikTok videos, and more. SocialPost preserves the complete social graph and engagement data associated with each post, enabling users to own their social media history permanently.\n\n### Revolutionary Design Philosophy\n\nHypernet treats social posts as permanent, owned content separate from platforms:\n- **Platform Agnostic** - Unified schema for all social platforms (Instagram, Facebook, Twitter, etc.)\n- **Complete Preservation** - Captures content, metadata, engagement, and social context\n- **Relationship Rich** - Links to media, accounts, mentions, hashtags, and comments\n- **Timeline Reconstruction** - Rebuild complete social media timeline across all platforms\n- **Content Liberation** - Free your posts from platform lock-in and algorithmic feeds\n- **Analytics Preservation** - Keep engagement metrics even after platform deletion\n\n### Core Functions\n\n1. **Content Archival** - Permanently store all social media posts\n2. **Engagement Tracking** - Preserve likes, comments, shares, and other metrics\n3. **Cross-Platform Unification** - View unified timeline across all social networks\n4. **Search and Discovery** - Full-text search across all posts and comments\n5. **Relationship Mapping** - Track mentions, tags, and social connections\n6. **Export and Backup** - Download complete social media archive\n\n### When to Use\n\n- Importing posts from Instagram, Facebook, Twitter, LinkedIn, TikTok\n- Archiving social media content before deleting accounts\n- Creating unified social media timeline\n- Analyzing posting patterns and engagement over time\n- Preserving memories and significant life events shared on social media\n- Building personal portfolio from social media content\n\n---\n\n## Inherited Fields from BaseObject\n\n```yaml\nid: UUID\n  - Globally unique post identifier\n  - Generated on import\n\ncreated_at: DateTime\n  - Import timestamp (when added to Hypernet)\n  - Immutable\n  - May differ from posted_at (original publish time)\n\nupdated_at: DateTime\n  - Last modification timestamp\n  - Auto-updated on any field change\n\ndeleted_at: DateTime (nullable)\n  - Soft delete timestamp\n  - Null for active posts\n  - Posts preserved indefinitely unless user deletes\n\nuser_id: UUID\n  - Foreign key to User who owns this post\n  - Required - all posts must have an owner\n  - Typically the user who published the post\n  - Immutable\n\nmetadata: JSONB\n  - Extensible metadata storage\n  - See Metadata Schema section below\n  - Stores platform-specific data and engagement details\n```\n\n---\n\n## Required Fields\n\n### Post Identity\n\n```yaml\nplatform: String(50)\n  type: String\n  max_length: 50\n  nullable: false\n  indexed: true\n  description: \"Social media platform where post was published\"\n  allowed_values:\n    - \"instagram\"\n    - \"facebook\"\n    - \"twitter\"\n    - \"linkedin\"\n    - \"tiktok\"\n    - \"youtube\"\n    - \"reddit\"\n    - \"threads\"\n    - \"mastodon\"\n    - \"other\"\n  examples:\n    - \"instagram\" (photos/videos)\n    - \"twitter\" (tweets)\n    - \"linkedin\" (professional posts)\n\nplatform_id: String(200)\n  type: String\n  max_length: 200\n  nullable: false\n  indexed: true\n  unique: \"Per platform+user combination\"\n  description: \"Unique post ID from platform\"\n  examples:\n    - Instagram: \"2847593720193\"\n    - Twitter: \"1234567890123456789\"\n    - Facebook: \"user_id_post_id\"\n  purpose: \"Prevent duplicate imports, link to original\"\n  constraints:\n    - Composite unique with (user_id, platform, platform_id)\n\npost_type: Enum\n  type: String\n  max_length: 20\n  nullable: false\n  indexed: true\n  description: \"Type of social media post\"\n  allowed_values:\n    - \"photo\": Single photo or photo carousel\n    - \"video\": Video post\n    - \"text\": Text-only post\n    - \"link\": Link share with preview\n    - \"story\": Ephemeral story (24-hour content)\n    - \"reel\": Short-form video (Instagram Reels, TikTok)\n    - \"live\": Live stream recording\n    - \"article\": Long-form article (LinkedIn, Medium)\n  derivation: \"Auto-detected from platform data and media type\"\n```\n\n### Temporal Information\n\n```yaml\nposted_at: DateTime\n  type: DateTime\n  nullable: false\n  indexed: true\n  timezone: true\n  description: \"Original publication timestamp from platform\"\n  usage: \"Primary field for timeline reconstruction\"\n  sources:\n    - Instagram: timestamp field\n    - Twitter: created_at field\n    - Platform API timestamp\n  importance: \"Critical for chronological ordering\"\n```\n\n---\n\n## Optional Fields\n\n### Content\n\n```yaml\ntext_content: Text\n  type: Text\n  nullable: true\n  max_length: 100000\n  description: \"Post caption, body text, or tweet content\"\n  examples:\n    - Instagram caption with hashtags\n    - Tweet text (280 chars)\n    - LinkedIn article body\n    - Facebook status update\n  searchable: true\n  format: \"Plain text, may include hashtags and mentions\"\n  constraints:\n    - Platform-specific length limits preserved in metadata\n\ntitle: String(500)\n  type: String\n  max_length: 500\n  nullable: true\n  indexed: true\n  description: \"Post title (for articles, videos, etc.)\"\n  applicable: \"LinkedIn articles, YouTube videos, blog posts\"\n  searchable: true\n\nlink_url: String(2000)\n  type: String\n  max_length: 2000\n  nullable: true\n  description: \"External link shared in post\"\n  examples:\n    - \"https://example.com/article\"\n    - \"https://youtube.com/watch?v=abc123\"\n  applicable: \"post_type = 'link' or link shares\"\n\npermalink: String(1000)\n  type: String\n  max_length: 1000\n  nullable: true\n  indexed: true\n  description: \"Permanent URL to original post on platform\"\n  examples:\n    - \"https://www.instagram.com/p/ABC123/\"\n    - \"https://twitter.com/user/status/123456\"\n    - \"https://www.linkedin.com/posts/activity-id\"\n  purpose: \"Link back to original, verify authenticity\"\n  behavior: \"May become invalid if user deletes platform post\"\n```\n\n### Location\n\n```yaml\nlocation_name: String(500)\n  type: String\n  max_length: 500\n  nullable: true\n  indexed: true\n  description: \"Location tag from platform\"\n  examples:\n    - \"Golden Gate Bridge, San Francisco\"\n    - \"New York, NY\"\n    - \"Home\"\n  sources: \"Platform location tag\"\n  searchable: true\n\nlatitude: Decimal(10,8)\n  type: Decimal\n  precision: 10\n  scale: 8\n  nullable: true\n  indexed: true\n  description: \"GPS latitude if available\"\n  range: \"-90.0 to 90.0\"\n  sources: \"Media EXIF or platform location\"\n\nlongitude: Decimal(11,8)\n  type: Decimal\n  precision: 11\n  scale: 8\n  nullable: true\n  indexed: true\n  description: \"GPS longitude if available\"\n  range: \"-180.0 to 180.0\"\n```\n\n### Engagement Metrics\n\n```yaml\nlike_count: Integer\n  type: Integer\n  nullable: false\n  default: 0\n  indexed: true\n  description: \"Number of likes/reactions\"\n  platform_names:\n    - Instagram: \"likes\"\n    - Facebook: \"reactions\"\n    - Twitter: \"likes\"\n    - LinkedIn: \"reactions\"\n  constraints:\n    - Must be >= 0\n    - Snapshot at import time (may not reflect current count)\n\ncomment_count: Integer\n  type: Integer\n  nullable: false\n  default: 0\n  indexed: true\n  description: \"Number of comments/replies\"\n  constraints:\n    - Must be >= 0\n    - Top-level comments only (nested replies in metadata)\n\nshare_count: Integer\n  type: Integer\n  nullable: false\n  default: 0\n  indexed: true\n  description: \"Number of shares/retweets/reposts\"\n  platform_names:\n    - Instagram: \"shares to stories\"\n    - Facebook: \"shares\"\n    - Twitter: \"retweets\"\n    - LinkedIn: \"shares\"\n  constraints: \"Must be >= 0\"\n\nview_count: Integer\n  type: Integer\n  nullable: true\n  indexed: true\n  description: \"Number of views (video posts, stories)\"\n  applicable: \"Videos, Reels, Stories, TikTok\"\n  constraints: \"Must be >= 0 if provided\"\n\nengagement_rate: Decimal(5,4)\n  type: Decimal\n  precision: 5\n  scale: 4\n  nullable: true\n  description: \"Calculated engagement rate (0.0 to 1.0)\"\n  formula: \"(likes + comments + shares) / followers_at_time\"\n  computed: true\n  usage: \"Analytics and post performance comparison\"\n```\n\n### Visibility and Status\n\n```yaml\nvisibility: Enum\n  type: String\n  max_length: 20\n  nullable: false\n  default: \"public\"\n  indexed: true\n  description: \"Post visibility/privacy setting on platform\"\n  allowed_values:\n    - \"public\": Visible to everyone\n    - \"followers\": Visible to followers only\n    - \"friends\": Visible to friends only (Facebook)\n    - \"private\": Private/hidden post\n    - \"unlisted\": Not shown in feeds but accessible via link\n  sources: \"Platform privacy settings at post time\"\n\nis_archived: Boolean\n  type: Boolean\n  nullable: false\n  default: false\n  description: \"Whether post was archived on platform\"\n  applicable: \"Instagram archive feature\"\n\nis_pinned: Boolean\n  type: Boolean\n  nullable: false\n  default: false\n  description: \"Whether post was pinned to profile\"\n  applicable: \"Twitter pinned tweets, Instagram pinned posts\"\n```\n\n### Platform-Specific\n\n```yaml\nhashtags: JSONB\n  type: JSONB\n  nullable: false\n  default: []\n  description: \"Array of hashtag strings extracted from content\"\n  structure: [\"hashtag1\", \"hashtag2\"]\n  examples:\n    - [\"sunset\", \"travel\", \"photography\"]\n    - [\"tech\", \"ai\", \"innovation\"]\n  searchable: true\n  indexed: \"GIN index for containment queries\"\n  extraction: \"Parsed from text_content\"\n\nmentions: JSONB\n  type: JSONB\n  nullable: false\n  default: []\n  description: \"Array of mentioned user handles\"\n  structure: [\"@username1\", \"@username2\"]\n  examples:\n    - [\"@friend\", \"@company\"]\n  searchable: true\n  purpose: \"Track social connections and collaborations\"\n\nfilter_name: String(100)\n  type: String\n  max_length: 100\n  nullable: true\n  description: \"Photo/video filter applied\"\n  applicable: \"Instagram, TikTok\"\n  examples:\n    - \"Clarendon\"\n    - \"Valencia\"\n    - \"No Filter\"\n\nis_sponsored: Boolean\n  type: Boolean\n  nullable: false\n  default: false\n  description: \"Whether post was sponsored/branded content\"\n  sources: \"Platform sponsored post indicator\"\n```\n\n### Relationships\n\n```yaml\naccount_id: UUID\n  type: UUID\n  nullable: true\n  indexed: true\n  description: \"Foreign key to SocialAccount that published this post\"\n  references: \"SocialAccount.id\"\n  cascade: \"ON DELETE SET NULL\"\n  purpose: \"Link post to specific social media account\"\n\nintegration_id: UUID\n  type: UUID\n  nullable: true\n  indexed: true\n  description: \"Foreign key to Integration that imported this post\"\n  references: \"Integration.id\"\n  cascade: \"ON DELETE SET NULL\"\n\nreply_to_post_id: UUID\n  type: UUID\n  nullable: true\n  indexed: true\n  description: \"Foreign key to post this is replying to\"\n  references: \"SocialPost.id\"\n  cascade: \"ON DELETE SET NULL\"\n  applicable: \"Twitter replies, comment threads\"\n  creates: \"Parent-child relationship between posts\"\n\nrepost_of_post_id: UUID\n  type: UUID\n  nullable: true\n  indexed: true\n  description: \"Foreign key to original post if this is a repost/retweet\"\n  references: \"SocialPost.id\"\n  cascade: \"ON DELETE SET NULL\"\n  applicable: \"Twitter retweets, Facebook shares\"\n```\n\n---\n\n## Metadata Schema\n\nThe `metadata` JSONB field stores platform-specific data and rich engagement details:\n\n```json\n{\n  \"platform_data\": {\n    \"instagram\": {\n      \"media_type\": \"IMAGE\",\n      \"is_carousel\": true,\n      \"carousel_count\": 5,\n      \"filter\": \"Clarendon\",\n      \"is_partner_post\": false,\n      \"comments_disabled\": false,\n      \"tagged_users\": [\n        {\"username\": \"friend1\", \"user_id\": \"123\"},\n        {\"username\": \"friend2\", \"user_id\": \"456\"}\n      ]\n    },\n    \"twitter\": {\n      \"tweet_id\": \"1234567890123456789\",\n      \"in_reply_to_status_id\": \"9876543210\",\n      \"retweet_count\": 42,\n      \"quote_count\": 15,\n      \"is_quote_status\": false,\n      \"possibly_sensitive\": false,\n      \"lang\": \"en\"\n    },\n    \"linkedin\": {\n      \"urn\": \"urn:li:activity:1234567890\",\n      \"article_url\": \"https://linkedin.com/pulse/...\",\n      \"impressions\": 5420,\n      \"clicks\": 234\n    }\n  },\n  \"engagement_details\": {\n    \"top_comments\": [\n      {\n        \"user\": \"username1\",\n        \"text\": \"Amazing photo!\",\n        \"timestamp\": \"2024-02-09T15:30:00Z\",\n        \"likes\": 12\n      }\n    ],\n    \"reactions_breakdown\": {\n      \"like\": 245,\n      \"love\": 87,\n      \"wow\": 23,\n      \"haha\": 5\n    },\n    \"engagement_timeline\": [\n      {\"hour\": 1, \"likes\": 50, \"comments\": 3},\n      {\"hour\": 2, \"likes\": 120, \"comments\": 8}\n    ]\n  },\n  \"media_ids\": [\n    \"media-uuid-1\",\n    \"media-uuid-2\",\n    \"media-uuid-3\"\n  ],\n  \"audience\": {\n    \"followers_at_time\": 1250,\n    \"reach\": 3400,\n    \"impressions\": 5600,\n    \"countries\": [\"US\", \"UK\", \"CA\"],\n    \"age_ranges\": {\"18-24\": 0.3, \"25-34\": 0.45, \"35-44\": 0.25}\n  },\n  \"edit_history\": [\n    {\n      \"edited_at\": \"2024-02-09T16:00:00Z\",\n      \"previous_text\": \"Original caption text\",\n      \"change_type\": \"caption_edit\"\n    }\n  ]\n}\n```\n\n---\n\n## Relationships to Other Object Types\n\n### Ownership\n\n```yaml\nowned_by: User\n  description: \"User who owns this post (usually the author)\"\n  cardinality: \"N:1 (many posts, one owner)\"\n  implementation: \"user_id foreign key\"\n  cascade: \"ON DELETE CASCADE\"\n\npublished_by: SocialAccount\n  description: \"Social media account that published this post\"\n  cardinality: \"N:1 (many posts, one account)\"\n  implementation: \"account_id foreign key\"\n  cascade: \"ON DELETE SET NULL\"\n\nimported_by: Integration\n  description: \"Integration that imported this post\"\n  cardinality: \"N:1 (many posts, one integration)\"\n  implementation: \"integration_id foreign key\"\n  cascade: \"ON DELETE SET NULL\"\n```\n\n### Media Attachments\n\n```yaml\ncontains_media: Media\n  description: \"Media items attached to this post\"\n  cardinality: \"M:N (many posts, many media)\"\n  link_type: \"post_media\"\n  implementation: \"Join table with ordering\"\n  examples:\n    - Instagram carousel: 5 photos\n    - Tweet with video\n    - Facebook post with multiple photos\n\ncover_media: Media\n  description: \"Primary/cover media for post thumbnail\"\n  cardinality: \"N:1 (many posts, one cover)\"\n  implementation: \"First media in post or explicit cover selection\"\n```\n\n### Social Graph\n\n```yaml\nmentions: User\n  description: \"Users mentioned/tagged in post\"\n  cardinality: \"M:N (many posts, many users)\"\n  link_type: \"post_mentions\"\n  extraction: \"Parsed from text_content and platform tag data\"\n\nreply_to: SocialPost\n  description: \"Original post this is replying to\"\n  cardinality: \"N:1 (many replies, one parent)\"\n  implementation: \"reply_to_post_id foreign key\"\n  creates: \"Comment thread hierarchy\"\n\nrepost_of: SocialPost\n  description: \"Original post if this is a repost/share\"\n  cardinality: \"N:1 (many reposts, one original)\"\n  implementation: \"repost_of_post_id foreign key\"\n```\n\n---\n\n## API Endpoints\n\n### Post Import\n\n```http\nPOST /api/v1/social/posts/import\n  Description: Import posts from platform (called by integration sync)\n  Headers:\n    Authorization: Bearer {access_token}\n  Request Body:\n    {\n      \"platform\": \"instagram\",\n      \"integration_id\": \"integration-uuid\",\n      \"account_id\": \"account-uuid\",\n      \"posts\": [\n        {\n          \"platform_id\": \"2847593720193\",\n          \"post_type\": \"photo\",\n          \"text_content\": \"Beautiful sunset! #sunset #beach\",\n          \"posted_at\": \"2024-02-09T18:30:00Z\",\n          \"permalink\": \"https://instagram.com/p/ABC123/\",\n          \"like_count\": 324,\n          \"comment_count\": 18,\n          \"media_ids\": [\"media-uuid-1\"]\n        }\n      ]\n    }\n  Response: 201 Created\n    {\n      \"imported_count\": 1,\n      \"skipped_count\": 0,\n      \"posts\": [{created post objects}]\n    }\n  Behavior:\n    - Deduplicate by (user_id, platform, platform_id)\n    - Link to existing Media objects\n    - Extract hashtags and mentions\n```\n\n### Post Retrieval\n\n```http\nGET /api/v1/social/posts/{id}\n  Description: Get post details\n  Headers:\n    Authorization: Bearer {access_token}\n  Response: 200 OK\n    {complete post object with media and engagement}\n  Privacy:\n    - Only owner can access\n    - Returns 404 if not found or unauthorized\n\nGET /api/v1/social/posts/{id}/media\n  Description: Get media attached to post\n  Headers:\n    Authorization: Bearer {access_token}\n  Response: 200 OK\n    {\n      \"media\": [{media objects}],\n      \"count\": 5\n    }\n\nGET /api/v1/social/posts/{id}/comments\n  Description: Get comments on post (from metadata)\n  Headers:\n    Authorization: Bearer {access_token}\n  Query Parameters:\n    limit: 50\n    offset: 0\n  Response: 200 OK\n    {\n      \"comments\": [{comment objects from metadata}],\n      \"total\": 18\n    }\n```\n\n### Timeline and Search\n\n```http\nGET /api/v1/social/posts\n  Description: Get user's social media timeline (all platforms)\n  Headers:\n    Authorization: Bearer {access_token}\n  Query Parameters:\n    platform: instagram|facebook|twitter (filter by platform)\n    post_type: photo|video|text|link\n    account_id: {account-uuid} (filter by specific account)\n    date_from: 2024-01-01\n    date_to: 2024-12-31\n    has_media: true|false\n    min_likes: 100 (minimum like count)\n    hashtag: {hashtag} (posts with specific hashtag)\n    mention: @username (posts mentioning user)\n    search: \"query text\" (full-text search)\n    limit: 50 (default: 50, max: 200)\n    offset: 0\n    sort: posted_at|like_count|comment_count (default: posted_at)\n    order: asc|desc (default: desc)\n  Response: 200 OK\n    {\n      \"posts\": [{post objects}],\n      \"total\": 1543,\n      \"limit\": 50,\n      \"offset\": 0\n    }\n\nGET /api/v1/social/posts/timeline\n  Description: Unified timeline view (all platforms chronologically)\n  Headers:\n    Authorization: Bearer {access_token}\n  Query Parameters:\n    year: 2024 (filter by year)\n    month: 2 (filter by month)\n    limit: 50\n  Response: 200 OK\n    {\n      \"timeline\": [\n        {\n          \"date\": \"2024-02-09\",\n          \"posts\": [{post objects}],\n          \"count\": 3\n        }\n      ]\n    }\n```\n\n### Analytics\n\n```http\nGET /api/v1/social/posts/analytics\n  Description: Get posting and engagement analytics\n  Headers:\n    Authorization: Bearer {access_token}\n  Query Parameters:\n    platform: instagram|all\n    date_from: 2024-01-01\n    date_to: 2024-12-31\n  Response: 200 OK\n    {\n      \"total_posts\": 347,\n      \"total_likes\": 15678,\n      \"total_comments\": 892,\n      \"avg_engagement_rate\": 0.0456,\n      \"top_posts\": [{post objects}],\n      \"posting_frequency\": {\n        \"daily_avg\": 1.2,\n        \"by_day_of_week\": {...},\n        \"by_hour\": {...}\n      },\n      \"top_hashtags\": [\n        {\"hashtag\": \"sunset\", \"count\": 45},\n        {\"hashtag\": \"travel\", \"count\": 32}\n      ],\n      \"platform_breakdown\": {\n        \"instagram\": 245,\n        \"twitter\": 102\n      }\n    }\n```\n\n### Post Management\n\n```http\nPATCH /api/v1/social/posts/{id}\n  Description: Update post metadata (local only, not synced to platform)\n  Headers:\n    Authorization: Bearer {access_token}\n  Request Body:\n    {\n      \"text_content\": \"Updated caption\",\n      \"hashtags\": [\"new\", \"tags\"]\n    }\n  Response: 200 OK\n    {updated post object}\n  Note: \"Updates Hypernet copy only, does not modify platform post\"\n\nDELETE /api/v1/social/posts/{id}\n  Description: Soft delete post\n  Headers:\n    Authorization: Bearer {access_token}\n  Response: 204 No Content\n  Behavior:\n    - Sets deleted_at timestamp\n    - Post preserved indefinitely\n    - Media not deleted (may be used elsewhere)\n```\n\n---\n\n## Database Schema (SQLAlchemy Model Reference)\n\n```python\nfrom sqlalchemy import (\n    Column, String, Integer, Decimal, Enum as SQLEnum,\n    DateTime, Boolean, ForeignKey, Index, CheckConstraint, Text\n)\nfrom sqlalchemy.dialects.postgresql import UUID, JSONB\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseObject\n\nclass SocialPost(BaseObject):\n    \"\"\"\n    Social media post from any platform\n\n    Inherits from BaseObject: id, user_id, created_at, updated_at, deleted_at, metadata\n    \"\"\"\n\n    __tablename__ = \"social_posts\"\n\n    # Post Identity (Required)\n    platform = Column(\n        String(50),\n        nullable=False,\n        index=True,\n        doc=\"Social media platform\"\n    )\n    platform_id = Column(\n        String(200),\n        nullable=False,\n        index=True,\n        doc=\"Unique post ID from platform\"\n    )\n    post_type = Column(\n        SQLEnum('photo', 'video', 'text', 'link', 'story', 'reel', 'live', 'article',\n                name='post_type_enum'),\n        nullable=False,\n        index=True,\n        doc=\"Type of post\"\n    )\n\n    # Temporal (Required)\n    posted_at = Column(\n        DateTime(timezone=True),\n        nullable=False,\n        index=True,\n        doc=\"Original publication timestamp\"\n    )\n\n    # Content (Optional)\n    text_content = Column(\n        Text,\n        nullable=True,\n        doc=\"Post caption or body text\"\n    )\n    title = Column(\n        String(500),\n        nullable=True,\n        index=True,\n        doc=\"Post title (articles, videos)\"\n    )\n    link_url = Column(\n        String(2000),\n        nullable=True,\n        doc=\"External link shared in post\"\n    )\n    permalink = Column(\n        String(1000),\n        nullable=True,\n        index=True,\n        doc=\"Permanent URL to original post\"\n    )\n\n    # Location (Optional)\n    location_name = Column(\n        String(500),\n        nullable=True,\n        index=True,\n        doc=\"Location tag from platform\"\n    )\n    latitude = Column(\n        Numeric(10, 8),\n        nullable=True,\n        index=True,\n        doc=\"GPS latitude\"\n    )\n    longitude = Column(\n        Numeric(11, 8),\n        nullable=True,\n        index=True,\n        doc=\"GPS longitude\"\n    )\n\n    # Engagement Metrics (Optional)\n    like_count = Column(\n        Integer,\n        nullable=False,\n        default=0,\n        index=True,\n        doc=\"Number of likes/reactions\"\n    )\n    comment_count = Column(\n        Integer,\n        nullable=False,\n        default=0,\n        index=True,\n        doc=\"Number of comments\"\n    )\n    share_count = Column(\n        Integer,\n        nullable=False,\n        default=0,\n        index=True,\n        doc=\"Number of shares/retweets\"\n    )\n    view_count = Column(\n        Integer,\n        nullable=True,\n        index=True,\n        doc=\"Number of views (videos/stories)\"\n    )\n    engagement_rate = Column(\n        Numeric(5, 4),\n        nullable=True,\n        doc=\"Calculated engagement rate\"\n    )\n\n    # Visibility and Status (Optional)\n    visibility = Column(\n        SQLEnum('public', 'followers', 'friends', 'private', 'unlisted',\n                name='post_visibility_enum'),\n        nullable=False,\n        default='public',\n        index=True,\n        doc=\"Post visibility setting\"\n    )\n    is_archived = Column(\n        Boolean,\n        nullable=False,\n        default=False,\n        doc=\"Whether post was archived\"\n    )\n    is_pinned = Column(\n        Boolean,\n        nullable=False,\n        default=False,\n        doc=\"Whether post was pinned\"\n    )\n\n    # Platform-Specific (Optional)\n    hashtags = Column(\n        JSONB,\n        nullable=False,\n        default=[],\n        doc=\"Array of hashtag strings\"\n    )\n    mentions = Column(\n        JSONB,\n        nullable=False,\n        default=[],\n        doc=\"Array of mentioned usernames\"\n    )\n    filter_name = Column(\n        String(100),\n        nullable=True,\n        doc=\"Photo/video filter applied\"\n    )\n    is_sponsored = Column(\n        Boolean,\n        nullable=False,\n        default=False,\n        doc=\"Whether post was sponsored content\"\n    )\n\n    # Relationships (Optional)\n    account_id = Column(\n        UUID(as_uuid=True),\n        ForeignKey('social_accounts.id', ondelete='SET NULL'),\n        nullable=True,\n        index=True,\n        doc=\"Social account that published this\"\n    )\n    integration_id = Column(\n        UUID(as_uuid=True),\n        ForeignKey('integrations.id', ondelete='SET NULL'),\n        nullable=True,\n        index=True,\n        doc=\"Integration that imported this\"\n    )\n    reply_to_post_id = Column(\n        UUID(as_uuid=True),\n        ForeignKey('social_posts.id', ondelete='SET NULL'),\n        nullable=True,\n        index=True,\n        doc=\"Post this is replying to\"\n    )\n    repost_of_post_id = Column(\n        UUID(as_uuid=True),\n        ForeignKey('social_posts.id', ondelete='SET NULL'),\n        nullable=True,\n        index=True,\n        doc=\"Original post if repost\"\n    )\n\n    # Relationships\n    owner = relationship(\"User\", foreign_keys=[BaseObject.user_id])\n    account = relationship(\"SocialAccount\", foreign_keys=[account_id])\n    integration = relationship(\"Integration\", foreign_keys=[integration_id])\n\n    media = relationship(\n        \"Media\",\n        secondary=\"post_media\",\n        back_populates=\"posts\"\n    )\n\n    reply_to_post = relationship(\n        \"SocialPost\",\n        remote_side=\"SocialPost.id\",\n        foreign_keys=[reply_to_post_id]\n    )\n    repost_of_post = relationship(\n        \"SocialPost\",\n        remote_side=\"SocialPost.id\",\n        foreign_keys=[repost_of_post_id]\n    )\n\n    # Table Constraints\n    __table_args__ = (\n        # Composite unique constraint (prevent duplicate imports)\n        Index('idx_social_posts_unique',\n              'user_id', 'platform', 'platform_id',\n              unique=True),\n\n        # Engagement counts must be non-negative\n        CheckConstraint('like_count >= 0', name='check_like_count'),\n        CheckConstraint('comment_count >= 0', name='check_comment_count'),\n        CheckConstraint('share_count >= 0', name='check_share_count'),\n        CheckConstraint('view_count IS NULL OR view_count >= 0',\n                        name='check_view_count'),\n\n        # Latitude/longitude ranges\n        CheckConstraint(\n            'latitude IS NULL OR (latitude >= -90 AND latitude <= 90)',\n            name='check_latitude_range'\n        ),\n        CheckConstraint(\n            'longitude IS NULL OR (longitude >= -180 AND longitude <= 180)',\n            name='check_longitude_range'\n        ),\n\n        # Composite indexes\n        Index('idx_social_posts_platform', 'platform', 'posted_at'),\n        Index('idx_social_posts_posted_at', 'posted_at'),\n        Index('idx_social_posts_engagement', 'like_count', 'comment_count'),\n        Index('idx_social_posts_account', 'account_id', 'posted_at'),\n\n        # GIN indexes for arrays\n        Index('idx_social_posts_hashtags', 'hashtags', postgresql_using='gin'),\n        Index('idx_social_posts_mentions', 'mentions', postgresql_using='gin'),\n\n        # Full-text search index\n        # Index for text_content (implementation-specific)\n    )\n\n    def __repr__(self):\n        return f\"<SocialPost(id={self.id}, platform={self.platform}, type={self.post_type})>\"\n\n    @property\n    def total_engagement(self):\n        \"\"\"Calculate total engagement\"\"\"\n        return self.like_count + self.comment_count + self.share_count\n\n    @property\n    def has_location(self):\n        return self.latitude is not None and self.longitude is not None\n```\n\n---\n\n## Privacy and Security Considerations\n\n### Access Control\n\n1. **Ownership Enforcement**\n   - Posts only accessible by owner\n   - No public sharing (posts remain private archives)\n   - Platform privacy settings preserved in visibility field\n\n2. **Platform Connection**\n   - Permalink may expose platform username\n   - User can choose to strip permalinks on import\n   - Original post may be deleted from platform\n\n### Data Protection\n\n1. **Location Privacy**\n   - GPS coordinates stripped if user preference set\n   - Location names preserved for context\n   - User can bulk-remove location data\n\n2. **Content Preservation**\n   - Complete archive even if platform account deleted\n   - Comments and engagement preserved\n   - Cannot be modified by platform algorithm changes\n\n3. **GDPR Compliance**\n   - User can export all posts and media\n   - User can delete posts (soft delete)\n   - Platform identifiers preserved for provenance\n\n---\n\n## Validation Rules\n\n### On Import\n\n```yaml\nplatform:\n  - Must be valid platform identifier\n  - Required\n\nplatform_id:\n  - Required\n  - Must be unique per (user_id, platform, platform_id)\n\nposted_at:\n  - Required\n  - Must be valid timestamp\n  - Cannot be in future\n\nengagement_counts:\n  - Must be >= 0\n  - Default to 0 if not provided\n```\n\n### On Update\n\n```yaml\nimmutable_fields:\n  - id, user_id\n  - platform, platform_id\n  - posted_at\n  - created_at\n\nmutable_fields:\n  - text_content (local edit only)\n  - hashtags, mentions (manual correction)\n  - engagement counts (manual update)\n```\n\n---\n\n## Use Cases and Examples\n\n### Example 1: Instagram Photo Post\n\n```json\n{\n  \"id\": \"post-550e8400-e29b-41d4-a716-446655440000\",\n  \"user_id\": \"user-uuid\",\n  \"platform\": \"instagram\",\n  \"platform_id\": \"2847593720193\",\n  \"post_type\": \"photo\",\n  \"posted_at\": \"2024-02-09T18:30:00Z\",\n  \"text_content\": \"Beautiful sunset at the beach! Perfect end to an amazing day. #sunset #beach #california #photography\",\n  \"permalink\": \"https://www.instagram.com/p/ABC123/\",\n  \"location_name\": \"Santa Monica Beach, CA\",\n  \"latitude\": 34.0195,\n  \"longitude\": -118.4912,\n  \"like_count\": 324,\n  \"comment_count\": 18,\n  \"share_count\": 12,\n  \"visibility\": \"public\",\n  \"hashtags\": [\"sunset\", \"beach\", \"california\", \"photography\"],\n  \"mentions\": [],\n  \"filter_name\": \"Clarendon\",\n  \"account_id\": \"social-account-uuid\",\n  \"integration_id\": \"integration-uuid\",\n  \"metadata\": {\n    \"platform_data\": {\n      \"instagram\": {\n        \"media_type\": \"IMAGE\",\n        \"filter\": \"Clarendon\"\n      }\n    },\n    \"media_ids\": [\"media-uuid-1\"]\n  },\n  \"created_at\": \"2024-02-10T08:00:00Z\",\n  \"updated_at\": \"2024-02-10T08:00:00Z\"\n}\n```\n\n### Example 2: Twitter Thread Reply\n\n```json\n{\n  \"id\": \"post-660e8400-e29b-41d4-a716-446655440001\",\n  \"user_id\": \"user-uuid\",\n  \"platform\": \"twitter\",\n  \"platform_id\": \"1234567890123456789\",\n  \"post_type\": \"text\",\n  \"posted_at\": \"2024-02-09T14:22:00Z\",\n  \"text_content\": \"@friend Totally agree! This is exactly what we discussed last week. The implications are huge for the industry.\",\n  \"permalink\": \"https://twitter.com/user/status/1234567890123456789\",\n  \"like_count\": 15,\n  \"comment_count\": 3,\n  \"share_count\": 2,\n  \"visibility\": \"public\",\n  \"hashtags\": [],\n  \"mentions\": [\"@friend\"],\n  \"account_id\": \"social-account-uuid\",\n  \"reply_to_post_id\": \"parent-post-uuid\",\n  \"metadata\": {\n    \"platform_data\": {\n      \"twitter\": {\n        \"in_reply_to_status_id\": \"9876543210\",\n        \"lang\": \"en\"\n      }\n    }\n  }\n}\n```\n\n### Example 3: LinkedIn Article\n\n```json\n{\n  \"id\": \"post-770e8400-e29b-41d4-a716-446655440002\",\n  \"user_id\": \"user-uuid\",\n  \"platform\": \"linkedin\",\n  \"platform_id\": \"activity-6789\",\n  \"post_type\": \"article\",\n  \"posted_at\": \"2024-02-08T09:00:00Z\",\n  \"title\": \"The Future of Personal Data Ownership\",\n  \"text_content\": \"In this article, I explore why personal data ownership will be the defining challenge of the next decade...\",\n  \"permalink\": \"https://www.linkedin.com/posts/activity-6789\",\n  \"like_count\": 187,\n  \"comment_count\": 42,\n  \"share_count\": 56,\n  \"view_count\": 5420,\n  \"visibility\": \"public\",\n  \"hashtags\": [\"data\", \"privacy\", \"technology\"],\n  \"account_id\": \"social-account-uuid\",\n  \"metadata\": {\n    \"platform_data\": {\n      \"linkedin\": {\n        \"impressions\": 5420,\n        \"clicks\": 234\n      }\n    },\n    \"audience\": {\n      \"followers_at_time\": 2340\n    }\n  }\n}\n```\n\n---\n\n## Lifecycle States\n\n### 1. Imported\n\n```yaml\nstate: \"imported\"\nbehavior:\n  - Freshly imported from platform\n  - Media linked\n  - Hashtags extracted\ntransitions:\n  - archive -> Archived\n  - delete -> Deleted\n```\n\n### 2. Active\n\n```yaml\nstate: \"active\"\nbehavior:\n  - Searchable in timeline\n  - Included in analytics\n  - Media accessible\ntransitions:\n  - delete -> Deleted\n```\n\n### 3. Deleted\n\n```yaml\nstate: \"deleted\"\ndeleted_at: not null\nbehavior:\n  - Hidden from timeline\n  - Preserved indefinitely\n  - Can be restored\ntransitions:\n  - restore -> Active\n```\n\n---\n\n## Notes for Implementers\n\n### Performance Optimization\n\n1. **Timeline Queries**\n   - Index on (user_id, posted_at)\n   - Paginate with cursor-based pagination\n   - Cache timeline pages (1 minute TTL)\n\n2. **Search**\n   - Full-text search on text_content\n   - GIN indexes for hashtags and mentions arrays\n   - Consider Elasticsearch for advanced search\n\n3. **Analytics**\n   - Pre-compute aggregations\n   - Cache analytics results (1 hour TTL)\n   - Use materialized views for complex queries\n\n---\n\n**Status:** Active - Core Social Type\n**Version:** 1.0\n**Authority:** 0.0.3 - Social Types\n**Created:** 2026-02-09\n**Owner:** Hypernet Core (0.*)\n"
  },
  "created_at": "2026-02-15T11:54:04.813161+00:00",
  "updated_at": "2026-02-15T11:54:04.813161+00:00",
  "deleted_at": null,
  "source_type": "import",
  "source_id": "file:0.0.3.1-SOCIAL-POST.md"
}