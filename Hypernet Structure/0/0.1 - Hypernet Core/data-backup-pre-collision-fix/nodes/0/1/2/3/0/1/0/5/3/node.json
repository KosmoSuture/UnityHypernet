{
  "address": "0.1.2.3.0.1.0.5.3",
  "type_address": null,
  "data": {
    "name": "3",
    "type": "folder",
    "path": "C:\\Hypernet\\Hypernet Structure\\0\\0.1 - Hypernet Core\\data\\nodes\\0\\1\\0\\5\\3",
    "content_preview": "{\n  \"address\": \"0.1.0.5.3\",\n  \"type_address\": null,\n  \"data\": {\n    \"name\": \"03-API-Endpoints.md\",\n    \"type\": \"file\",\n    \"extension\": \".md\",\n    \"path\": \"C:\\\\Hypernet\\\\Hypernet Structure\\\\0\\\\0.1 - Hypernet Core\\\\0.1.0 - Planning & Documentation\\\\API-Design\\\\03-API-Endpoints.md\",\n    \"size\": 25178,\n    \"content\": \"# Hypernet Core - API Endpoints Specification\\n\\n**Version:** 0.1.0 (Phase 1)\\n**Last Updated:** 2026-02-03\\n**Status:** Design Phase\\n**Base URL:** `https://{server}:8443/api/v1`\\n\\n---\\n\\n## Table of Contents\\n\\n1. [Overview](#overview)\\n2. [Authentication](#authentication)\\n3. [Common Patterns](#common-patterns)\\n4. [Auth Endpoints](#auth-endpoints)\\n5. [User Endpoints](#user-endpoints)\\n6. [Media Endpoints](#media-endpoints)\\n7. [Album Endpoints](#album-endpoints)\\n8. [Integration Endpoints](#integration-endpoints)\\n9. [Link Endpoints](#link-endpoints)\\n10. [System Endpoints](#system-endpoints)\\n11. [Error Responses](#error-responses)\\n\\n---\\n\\n## Overview\\n\\n### API Design Principles\\n\\n1. **RESTful** - Resources identified by URLs, operations via HTTP methods\\n2. **Versioned** - `/api/v1/...` allows future breaking changes in v2\\n3. **JSON** - All request/response bodies in JSON (except file uploads)\\n4. **Stateless** - JWT tokens, no server-side sessions\\n5. **Paginated** - Large result sets use cursor or offset pagination\\n6. **Filterable** - Common filters: `?type=photo&date_from=2026-01-01`\\n7. **Sortable** - `?sort_by=created_at&sort_order=desc`\\n8. **HATEOAS** - Responses include links to related resources (optional Phase 2)\\n\\n### HTTP Methods\\n\\n| Method | Purpose | Idempotent | Safe |\\n|--------|---------|------------|------|\\n| `GET` | Retrieve resource(s) | Yes | Yes |\\n| `POST` | Create new resource | No | No |\\n| `PUT` | Replace entire resource | Yes | No |\\n| `PATCH` | Update partial resource | No | No |\\n| `DELETE` | Delete resource | Yes | No |\\n\\n### Status Codes\\n\\n| Code | Meaning | When Used |\\n|------|---------|-----------|\\n| `200 OK` | Success | GET, PATCH, PUT successful |\\n| `201 Created` | Resource created | POST successful |\\n| `204 No Content` | Success, no body | DELETE successful |\\n| `400 Bad Request` | Invalid input | Validation failed |\\n| `401 Unauthorized` | Not authenticated | Missing/invalid token |\\n| `403 Forbidden` | Not authorized | Authenticated but no permission |\\n| `404 Not Found` | Resource doesn't exist | ID not found |\\n| `409 Conflict` | Duplicate/constraint violation | Unique constraint failed |\\n| `422 Unprocessable Entity` | Semantic error | Business logic failed |\\n| `429 Too Many Requests` | Rate limited | Exceeded rate limit |\\n| `500 Internal Server Error` | Server error | Unexpected error |\\n\\n---\\n\\n## Authentication\\n\\n### JWT Bearer Tokens\\n\\nAll authenticated endpoints require:\\n```http\\nAuthorization: Bearer {access_token}\\n```\\n\\n### Token Structure\\n\\n**Access Token:**\\n- Short-lived (15 minutes)\\n- Contains: `user_id`, `email`, `is_admin`, `exp`, `iat`\\n- Used for API requests\\n\\n**Refresh Token:**\\n- Long-lived (30 days)\\n- Used only to get new access tokens\\n- Stored securely by client (httpOnly cookie or secure storage)\\n\\n---\\n\\n## Common Patterns\\n\\n### Pagination\\n\\n**Offset-Based (Default):**\\n```http\\nGET /api/v1/media?limit=50&offset=0\\n```\\n\\n**Response:**\\n```json\\n{\\n  \\\"items\\\": [...],\\n  \\\"total\\\": 250,\\n  \\\"limit\\\": 50,\\n  \\\"offset\\\": 0,\\n  \\\"has_more\\\": true\\n}\\n```\\n\\n**Cursor-Based (for large datasets):**\\n```http\\nGET /api/v1/media?limit=50&cursor=abc123xyz\\n```\\n\\n**Response:**\\n```json\\n{\\n  \\\"items\\\": [...],\\n  \\\"next_cursor\\\": \\\"def456uvw\\\",\\n  \\\"has_more\\\": true\\n}\\n```\\n\\n### Filtering\\n\\n```http\\nGET /api/v1/media?type=photo&date_from=2026-01-01&date_to=2026-01-31\\n```\\n\\n**Common Filters:**\\n- `type` - Object type or media type\\n- `date_from`, `date_to` - Date range (ISO 8601)\\n- `search` - Full-text search (filename, description)\\n- `tag` - Filter by tag (Phase 2)\\n\\n### Sorting\\n\\n```http\\nGET /api/v1/media?sort_by=taken_at&sort_order=desc\\n```\\n\\n**Common Sort Fields:**\\n- `created_at` - When object was created\\n- `updated_at` - When object was last modified\\n- `taken_at` - When photo/video was taken (media only)\\n- `name` - Alphabetical (albums)\\n- `size` - File size (media)\\n\\n### Partial Responses (Future)\\n\\n```http\\nGET /api/v1/media/123?fields=id,filename,size\\n```\\n\\nOnly returns requested fields (reduces bandwidth).\\n\\n---\\n\\n## Auth Endpoints\\n\\n### Register\\n\\nCreate new user account.\\n\\n```http\\nPOST /api/v1/auth/register\\n```\\n\\n**Request:**\\n```json\\n{\\n  \\\"email\\\": \\\"user@example.com\\\",\\n  \\\"password\\\": \\\"SecurePassword123!\\\",\\n  \\\"display_name\\\": \\\"John Smith\\\"\\n}\\n```\\n\\n**Validation:**\\n- `email`: Valid email format, unique, max 255 chars\\n- `password`: Min 12 chars, must include uppercase, lowercase, number, special char\\n- `display_name`: Optional, max 100 chars\\n\\n**Response (201 Created):**\\n```json\\n{\\n  \\\"user\\\": {\\n    \\\"id\\\": \\\"user-uuid\\\",\\n    \\\"email\\\": \\\"user@example.com\\\",\\n    \\\"display_name\\\": \\\"John Smith\\\",\\n    \\\"email_verified\\\": false,\\n    \\\"created_at\\\": \\\"2026-02-03T12:00:00Z\\\"\\n  },\\n  \\\"access_token\\\": \\\"eyJ...\\\",\\n  \\\"refresh_token\\\": \\\"eyJ...\\\",\\n  \\\"token_type\\\": \\\"Bearer\\\",\\n  \\\"expires_in\\\": 900\\n}\\n```\\n\\n**Errors:**\\n- `409 Conflict` - Email already registered\\n- `400 Bad Request` - Invalid email or password format\\n\\n---\\n\\n### Login\\n\\nAuthenticate user and get tokens.\\n\\n```http\\nPOST /api/v1/auth/login\\n```\\n\\n**Request:**\\n```json\\n{\\n  \\\"email\\\": \\\"user@example.com\\\",\\n  \\\"password\\\": \\\"SecurePassword123!\\\"\\n}\\n```\\n\\n**Response (200 OK):**\\n```json\\n{\\n  \\\"user\\\": {\\n    \\\"id\\\": \\\"user-uuid\\\",\\n    \\\"email\\\": \\\"user@example.com\\\",\\n    \\\"display_name\\\": \\\"John Smith\\\"\\n  },\\n  \\\"access_token\\\": \\\"eyJ...\\\",\\n  \\\"refresh_token\\\": \\\"eyJ...\\\",\\n  \\\"token_type\\\": \\\"Bearer\\\",\\n  \\\"expires_in\\\": 900\\n}\\n```\\n\\n**Errors:**\\n- `401 Unauthorized` - Invalid email or password\\n- `403 Forbidden` - Account disabled\\n\\n---\\n\\n### Refresh Token\\n\\nGet new access token using refresh token.\\n\\n```http\\nPOST /api/v1/auth/refresh\\n```\\n\\n**Request:**\\n```json\\n{\\n  \\\"refresh_token\\\": \\\"eyJ...\\\"\\n}\\n```\\n\\n**Response (200 OK):**\\n```json\\n{\\n  \\\"access_token\\\": \\\"eyJ...\\\",\\n  \\\"token_type\\\": \\\"Bearer\\\",\\n  \\\"expires_in\\\": 900\\n}\\n```\\n\\n**Errors:**\\n- `401 Unauthorized` - Invalid or expired refresh token\\n\\n---\\n\\n### Logout\\n\\nInvalidate refresh token (revoke access).\\n\\n```http\\nPOST /api/v1/auth/logout\\nAuthorization: Bearer {access_token}\\n```\\n\\n**Request:**\\n```json\\n{\\n  \\\"refresh_token\\\": \\\"eyJ...\\\"\\n}\\n```\\n\\n**Response (204 No Content)**\\n\\n---\\n\\n## User Endpoints\\n\\n### Get Current User\\n\\nGet authenticated user's profile.\\n\\n```http\\nGET /api/v1/users/me\\nAuthorization: Bearer {access_token}\\n```\\n\\n**Response (200 OK):**\\n```json\\n{\\n  \\\"id\\\": \\\"user-uuid\\\",\\n  \\\"email\\\": \\\"user@example.com\\\",\\n  \\\"display_name\\\": \\\"John Smith\\\",\\n  \\\"avatar_url\\\": null,\\n  \\\"email_verified\\\": true,\\n  \\\"is_active\\\": true,\\n  \\\"is_admin\\\": false,\\n  \\\"created_at\\\": \\\"2026-01-01T00:00:00Z\\\",\\n  \\\"last_login_at\\\": \\\"2026-02-03T12:00:00Z\\\",\\n  \\\"storage_used\\\": 15728640000,\\n  \\\"storage_quota\\\": 107374182400,\\n  \\\"metadata\\\": {}\\n}\\n```\\n\\n---\\n\\n### Update User Profile\\n\\nUpdate authenticated user's profile.\\n\\n```http\\nPATCH /api/v1/users/me\\nAuthorization: Bearer {access_token}\\n```\\n\\n**Request:**\\n```json\\n{\\n  \\\"display_name\\\": \\\"John A. Smith\\\",\\n  \\\"avatar_url\\\": \\\"https://example.com/avatar.jpg\\\",\\n  \\\"metadata\\\": {\\n    \\\"timezone\\\": \\\"America/Los_Angeles\\\",\\n    \\\"language\\\": \\\"en-US\\\"\\n  }\\n}\\n```\\n\\n**Response (200 OK):**\\n```json\\n{\\n  \\\"id\\\": \\\"user-uuid\\\",\\n  \\\"display_name\\\": \\\"John A. Smith\\\",\\n  \\\"avatar_url\\\": \\\"https://example.com/avatar.jpg\\\",\\n  ...\\n}\\n```\\n\\n---\\n\\n### Change Password\\n\\nChange authenticated user's password.\\n\\n```http\\nPOST /api/v1/users/me/change-password\\nAuthorization: Bearer {access_token}\\n```\\n\\n**Request:**\\n```json\\n{\\n  \\\"current_password\\\": \\\"OldPassword123!\\\",\\n  \\\"new_password\\\": \\\"NewPassword456!\\\"\\n}\\n```\\n\\n**Response (204 No Content)**\\n\\n**Errors:**\\n- `401 Unauthorized` - Current password incorrect\\n- `400 Bad Request` - New password doesn't meet requirements\\n\\n---\\n\\n## Media Endpoints\\n\\n### Upload Media\\n\\nUpload photo, video, or file.\\n\\n```http\\nPOST /api/v1/media/upload\\nAuthorization: Bearer {access_token}\\nContent-Type: multipart/form-data\\n```\\n\\n**Request:**\\n```\\nfile: (binary data)\\ndescription: \\\"Optional description\\\"\\ntags: [\\\"vacation\\\", \\\"beach\\\"]\\n```\\n\\n**Processing Steps:**\\n1. Validate file type and size\\n2. Scan for malware (ClamAV)\\n3. Generate unique ID (UUID)\\n4. Extract EXIF metadata\\n5. Calculate hash (SHA-256)\\n6. Save to `/media/{user_id}/media/{year}/{month}/{id}.{ext}`\\n7. Generate thumbnails (async)\\n8. Insert into database\\n9. Return media object\\n\\n**Response (201 Created):**\\n```json\\n{\\n  \\\"id\\\": \\\"media-uuid\\\",\\n  \\\"type\\\": \\\"media\\\",\\n  \\\"filename\\\": \\\"photo.jpg\\\",\\n  \\\"media_type\\\": \\\"photo\\\",\\n  \\\"mime_type\\\": \\\"image/jpeg\\\",\\n  \\\"size\\\": 2457600,\\n  \\\"width\\\": 4032,\\n  \\\"height\\\": 3024,\\n  \\\"file_path\\\": \\\"users/.../media/2026/02/media-uuid.jpg\\\",\\n  \\\"hash\\\": \\\"9f86d081...\\\",\\n  \\\"taken_at\\\": \\\"2026-02-01T14:23:45Z\\\",\\n  \\\"processing_status\\\": \\\"processing\\\",\\n  \\\"thumbnail_generated\\\": false,\\n  \\\"created_at\\\": \\\"2026-02-03T12:00:00Z\\\",\\n  \\\"metadata\\\": {\\n    \\\"exif\\\": {...},\\n    \\\"tags\\\": [\\\"vacation\\\", \\\"beach\\\"],\\n    \\\"description\\\": \\\"Optional description\\\"\\n  }\\n}\\n```\\n\\n**Errors:**\\n- `400 Bad Request` - Invalid file type or size\\n- `413 Payload Too Large` - File exceeds size limit\\n- `422 Unprocessable Entity` - Malware detected\\n- `507 Insufficient Storage` - User quota exceeded\\n\\n---\\n\\n### List Media\\n\\nList user's media with filtering and pagination.\\n\\n```http\\nGET /api/v1/media?type=photo&limit=50&offset=0&sort_by=taken_at&sort_order=desc\\nAuthorization: Bearer {access_token}\\n```\\n\\n**Query Parameters:**\\n- `type` - Media type: `photo`, `video`, `do\n... [truncated]",
    "content_file": "node.json"
  },
  "created_at": "2026-02-15T11:53:54.590197+00:00",
  "updated_at": "2026-02-15T11:53:54.590197+00:00",
  "deleted_at": null,
  "source_type": "import",
  "source_id": "folder:3"
}